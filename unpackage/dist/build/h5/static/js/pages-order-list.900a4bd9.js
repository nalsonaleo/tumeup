(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-order-list"],{"0bb6":function(t,a,e){"use strict";e.r(a);var o=e("c315"),n=e("438b");for(var r in n)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(r);e("ab2e");var i=e("f0c5"),d=Object(i["a"])(n["default"],o["b"],o["c"],!1,null,"556653f7",null,!1,o["a"],void 0);a["default"]=d.exports},"129e":function(t,a,e){var o=e("ac09");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=e("4f06").default;n("60af8acf",o,!0,{sourceMap:!1,shadowMode:!1})},"438b":function(t,a,e){"use strict";e.r(a);var o=e("c0f9"),n=e.n(o);for(var r in o)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return o[t]}))}(r);a["default"]=n.a},ab2e:function(t,a,e){"use strict";var o=e("129e"),n=e.n(o);n.a},ac09:function(t,a,e){var o=e("24fb");a=o(!1),a.push([t.i,'@charset "UTF-8";\r\n/* ==================\r\n      uni-app的变量\r\n防止插件市场用到这些，就保留了\r\n ==================== */\r\n/* 页面左右间距 */\r\n/* 文字尺寸 */\r\n/*文字颜色*/\r\n/* 边框颜色 */\r\n/* 图片加载中颜色 */\r\n/* 行为相关颜色 */\r\n/* ==================\r\n       theme   \r\n ==================== */\r\n/*主题色*/\r\n/*文字色*/\r\n/*背景色*/\r\n/*utils 工具*/\r\n/* 颜色 */.bg-red[data-v-556653f7]{background-color:#f33!important}.bg-purple[data-v-556653f7]{background-color:#ff33a9!important}.bg-orange[data-v-556653f7]{background-color:#f83!important}.bg-blue[data-v-556653f7]{background-color:#37f!important}.color-red[data-v-556653f7]{color:#f33!important}.color-purple[data-v-556653f7]{color:#ff33a9!important}.color-orange[data-v-556653f7]{color:#f83!important}.color-blue[data-v-556653f7]{color:#37f!important}.text-black[data-v-556653f7]{color:#000}.text-dark[data-v-556653f7]{color:#333}.text-deep[data-v-556653f7]{color:#555}.text-weak[data-v-556653f7]{color:#b3b3b3}.text-white[data-v-556653f7]{color:#fff}\r\n/*字体*/.f10[data-v-556653f7]{font-size:10px}.f12[data-v-556653f7]{font-size:12px}.f14[data-v-556653f7]{font-size:14px}.f15[data-v-556653f7]{font-size:15px}.f17[data-v-556653f7]{font-size:17px}.f20[data-v-556653f7]{font-size:20px}.f24[data-v-556653f7]{font-size:24px}\r\n/* 文字对齐*/.tl[data-v-556653f7]{text-align:left}.tc[data-v-556653f7]{text-align:center}.tr[data-v-556653f7]{text-align:right}\r\n/*浮动与清除浮动*/.fl[data-v-556653f7]{float:left}.fr[data-v-556653f7]{float:right}.fix[data-v-556653f7]{zoom:1}.fix[data-v-556653f7]:after{display:table;content:"";clear:both}\r\n/*显示*/.dn[data-v-556653f7]{display:none}.di[data-v-556653f7]{display:inline}.db[data-v-556653f7]{display:block}.dib[data-v-556653f7]{display:inline-block}.dt[data-v-556653f7]{display:table}div.dib[data-v-556653f7]{display:inline;zoom:1}.vm[data-v-556653f7]{vertical-align:middle}.vib[data-v-556653f7]{display:inline-block;vertical-align:middle}\r\n/*定位*/.pr[data-v-556653f7]{position:relative}.pa[data-v-556653f7]{position:absolute}.pf[data-v-556653f7]{position:fixed}\r\n/*盒子模型*/.ml4[data-v-556653f7]{margin-left:4px}.mr4[data-v-556653f7]{margin-right:4px}.mt4[data-v-556653f7]{margin-top:4px}.mb4[data-v-556653f7]{margin-bottom:4px}.ml8[data-v-556653f7]{margin-left:8px}.mr8[data-v-556653f7]{margin-right:8px}.mt8[data-v-556653f7]{margin-top:8px}.mb8[data-v-556653f7]{margin-bottom:8px}.ml12[data-v-556653f7]{margin-left:12px}.mr12[data-v-556653f7]{margin-right:12px}.mt12[data-v-556653f7]{margin-top:12px}.mb12[data-v-556653f7]{margin-bottom:12px}.ml16[data-v-556653f7]{margin-left:16px}.mr16[data-v-556653f7]{margin-right:16px}.mt16[data-v-556653f7]{margin-top:16px}.mb16[data-v-556653f7]{margin-bottom:16px}.ml20[data-v-556653f7]{margin-left:20px}.mr20[data-v-556653f7]{margin-right:20px}.mt20[data-v-556653f7]{margin-top:20px}.mb20[data-v-556653f7]{margin-bottom:20px}.ml24[data-v-556653f7]{margin-left:24px}.mr24[data-v-556653f7]{margin-right:24px}.mt24[data-v-556653f7]{margin-top:24px}.mb24[data-v-556653f7]{margin-bottom:24px}.ml10[data-v-556653f7]{margin-left:10px}.mr10[data-v-556653f7]{margin-right:10px}.mt10[data-v-556653f7]{margin-top:10px}.mb10[data-v-556653f7]{margin-bottom:10px}.ml15[data-v-556653f7]{margin-left:15px}.mr15[data-v-556653f7]{margin-right:15px}.mt15[data-v-556653f7]{margin-top:15px}.mb15[data-v-556653f7]{margin-bottom:15px}\r\n/*按钮禁用*/.disabled[data-v-556653f7]{outline:0 none;cursor:default!important;opacity:.4;filter:alpha(opacity=40);-ms-pointer-events:none;pointer-events:none}\r\n/**\r\n * \r\n * 自定义class工具\r\n * \r\n*/.pad[data-v-556653f7]{padding:0 %?30?%}.page_box[data-v-556653f7]{height:100%;width:100%;display:flex;flex-direction:column;justify-content:space-between;overflow-x:hidden}.scroll-box[data-v-556653f7]{flex:1;height:100%;position:relative}.content_box[data-v-556653f7]{flex:1;overflow-y:auto}\r\n/*单行文本溢出省略号*/.one-t[data-v-556653f7]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:all linear .2s}\r\n/*多行文本溢出省略号*/.more-t[data-v-556653f7]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;transition:all linear .2s}\r\n/* ==================\r\n          flex布局(colorui里面也有相关基础样式)\r\n ==================== */\r\n/* x水平排列*/.x-f[data-v-556653f7]{display:flex;align-items:center}\r\n/*x两端且水平居中*/.x-bc[data-v-556653f7]{display:flex;justify-content:space-between;align-items:center}\r\n/*x平分且水平居中*/.x-ac[data-v-556653f7]{display:flex;justify-content:space-around;align-items:center}\r\n/*x水平靠上对齐*/.x-start[data-v-556653f7]{display:flex;align-items:flex-start}\r\n/*x水平靠下对齐*/.x-end[data-v-556653f7]{display:flex;align-items:flex-end}\r\n/*上下左右居中*/.x-c[data-v-556653f7]{display:flex;justify-content:center;align-items:center}\r\n/*y竖直靠左*/.y-start[data-v-556653f7]{display:flex;flex-direction:column;align-items:flex-start}\r\n/*y竖直靠右*/.y-end[data-v-556653f7]{display:flex;flex-direction:column;align-items:flex-end}\r\n/*y竖直居中*/.y-f[data-v-556653f7]{display:flex;flex-direction:column;align-items:center}.y-b[data-v-556653f7]{display:flex;flex-direction:column;justify-content:space-between}\r\n/*y竖直两端居中*/.y-bc[data-v-556653f7]{display:flex;flex-direction:column;align-items:center;justify-content:space-between}\r\n/* ==================\r\n     flex布局  \r\n ==================== */\r\n/* ==================\r\n      渐变色 \r\n ==================== */\r\n/**\r\n* 溢出省略号\r\n* @param {Number} 行数\r\n*/\r\n/* shopro主题颜色 */\r\n/* 深黑 */#dark-theme[data-v-556653f7]{background:#000}#dark-theme .bColor[data-v-556653f7]{background:#333;color:#999}#dark-theme .borderColor[data-v-556653f7]{border-color:#999}\r\n/* 粉红 */#red-theme[data-v-556653f7]{background:#f9e5ee}#red-theme .bColor[data-v-556653f7]{background:#f9e5ee;color:#8e5a54}#red-theme .borderColor[data-v-556653f7]{border-color:#8e5a54}\r\n/* 橘黄 */#yellow-theme[data-v-556653f7]{background:#f6e1c9}#yellow-theme .bColor[data-v-556653f7]{background:#f6e1c9;color:#8c6031}#yellow-theme .borderColor[data-v-556653f7]{border-color:#8c6031}.order-nav[data-v-556653f7]{background:#fff;height:%?80?%}.order-nav .nav-item[data-v-556653f7]{flex:1}.order-nav .nav-item .item-title[data-v-556653f7]{font-size:%?30?%;font-family:PingFang SC;font-weight:400;color:#333;line-height:%?76?%}.order-nav .nav-item .nav-line[data-v-556653f7]{width:%?100?%;height:%?4?%;background:#fff}.order-nav .nav-item .line-active[data-v-556653f7]{background:#54b85d}.order-list[data-v-556653f7]{background:#fff;margin:%?20?% 0}.order-list .order-bottom[data-v-556653f7]{justify-content:flex-end;padding-bottom:%?30?%}.order-list .order-bottom .obtn1[data-v-556653f7]{width:%?160?%;height:%?60?%;background:#eee;border-radius:%?30?%;font-size:%?26?%;font-family:PingFang SC;font-weight:400;color:#333;margin-right:%?20?%;padding:0}.order-list .order-bottom .obtn2[data-v-556653f7]{width:%?160?%;height:%?60?%;background:rgba(239,58,58,.8);box-shadow:0 %?7?% %?6?% 0 rgba(239,58,58,.22);border-radius:%?30?%;margin-right:%?20?%;font-size:%?26?%;font-family:PingFang SC;font-weight:400;color:#fff;padding:0}.order-list .order-head[data-v-556653f7]{padding:0 %?25?%;height:%?77?%;border-bottom:%?1?% solid #dfdfdf}.order-list .order-head .no[data-v-556653f7]{font-size:%?26?%;color:#999}.order-list .order-head .state[data-v-556653f7]{font-size:%?26?%;color:#54b85d}.order-list .goods-order[data-v-556653f7]{border-bottom:1px solid hsla(0,0%,87.5%,.5);padding:%?20?% %?20?% 0;margin-bottom:%?20?%}.order-list .goods-bottom[data-v-556653f7]{background:#fff;padding-bottom:%?30?%;justify-content:flex-end}.order-list .goods-bottom .btn-box .btn1[data-v-556653f7]{height:%?60?%;border:%?1?% solid #dfdfdf;border-radius:%?30?%;font-size:%?26?%;background:#fff;padding:0 %?20?%;margin-right:%?20?%}.order-list .goods-bottom .btn-box .btn2[data-v-556653f7]{width:%?160?%;height:%?60?%;border:%?1?% solid #54b85d!important;border-radius:%?30?%;font-size:%?26?%;color:#54b85d!important;padding:0;background:#fff;margin-right:%?20?%}',""]),t.exports=a},c0f9:function(t,a,e){"use strict";e("7a82");var o=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("99af");var n=o(e("2909")),r=o(e("3597")),i=o(e("dd6c")),d={components:{shoproMiniCard:i.default,shoproLoad:r.default},data:function(){return{isLoading:!0,orderType:-1,orderList:[],orderStatus:["待付款","待发货","待收货","已完成","已完成","售后中"],emptyData:{img:"/static/imgs/empty/empty_groupon.png",tip:"暂无商品，还有更多好货等着你噢~"},orderState:[{id:0,title:"全部",type:-1},{id:1,title:"待付款",type:0},{id:2,title:"待发货",type:1},{id:3,title:"待收货",type:2},{id:3,title:"已完成",type:3}],page:1,hasMore:!0}},onLoad:function(t){this.orderType=t.type},onShow:function(){this.page=1,this.orderList=[],this.getOrderList()},methods:{jump:function(t,a){uni.navigateTo({url:t})},onNav:function(t){this.orderType=t,this.page=1,this.orderList=[],this.getOrderList()},getOrderList:function(){var t=this;t.isLoading=!0;var a={uid:uni.getStorageSync("p_uid"),token:uni.getStorageSync("p_token"),status:t.orderType,page:t.page,type:2};t.$api.orderList(a).then((function(a){1==a.code&&(t.isLoading=!1,t.orderList=[].concat((0,n.default)(t.orderList),(0,n.default)(a.data)),0!=a.data.length?t.hasMore=!0:t.hasMore=!1)}))},loadMore:function(){this.hasMore&&(this.page+=1,this.getOrderList())},onConfirm:function(t){var a=this,e={uid:uni.getStorageSync("p_uid"),token:uni.getStorageSync("p_token"),order_id:t};a.$api.confirmOrder(e).then((function(t){1==t.code&&(a.page=1,a.orderList=[],a.getOrderList())}))},onRefund:function(t,a){var e=this;e.$api("order.refund",{id:t,order_item_id:a}).then((function(t){1===t.code&&(e.$tools.toast("申请退款成功"),e.getOrderList())}))},onCancel:function(t){var a=this,e={uid:uni.getStorageSync("p_uid"),token:uni.getStorageSync("p_token"),order_id:t};a.$api.delOrder(e).then((function(t){1==t.code&&(a.page=1,a.orderList=[],a.getOrderList())}))},onPay:function(t,a){uni.navigateTo({url:"/pages/order/payment/method?orderId=".concat(t,"&total_fee=").concat(a)})},onComment:function(t,a){this.jump("/pages/order/add-comment",{orderId:t,ordrderItemId:a})},checkExpress:function(t){uni.navigateTo({url:"/pages/order/express?orderId="+t})}}};a.default=d},c315:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return r})),e.d(a,"a",(function(){return o}));var o={shoproEmpty:e("0bc6").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"page_box"},[e("v-uni-view",{staticClass:"head_box"},[e("v-uni-view",{staticClass:"order-nav x-f"},t._l(t.orderState,(function(a){return e("v-uni-view",{key:a.id,staticClass:"nav-item y-f",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onNav(a.type)}}},[e("v-uni-view",{staticClass:"item-title"},[t._v(t._s(a.title))]),e("v-uni-text",{staticClass:"nav-line",class:{"line-active":t.orderType==a.type}})],1)})),1)],1),e("v-uni-view",{staticClass:"content_box"},[e("v-uni-scroll-view",{staticClass:"scroll-box",attrs:{"scroll-y":"true"},on:{scrolltolower:function(a){arguments[0]=a=t.$handleEvent(a),t.loadMore.apply(void 0,arguments)}}},[t._l(t.orderList,(function(a){return e("v-uni-view",{key:a.id,staticClass:"order-list",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.jump("/pages/order/detail?order_id="+a.id)}}},[e("v-uni-view",{staticClass:"order-head x-bc"},[e("v-uni-text",{staticClass:"no"},[t._v("订单编号："+t._s(a.o_no))]),5!=t.orderType?e("v-uni-text",{staticClass:"state"},[t._v(t._s(t.orderStatus[a.o_status]))]):e("v-uni-text",{staticClass:"state"},[t._v(t._s(1==a.o_exchange?"退款中":"已退款"))])],1),e("v-uni-view",{staticClass:"goods-order"},[e("v-uni-view",{staticClass:"order-content",staticStyle:{"padding-bottom":"30upx"}},[e("shopro-mini-card",{attrs:{type:"order",detail:a}})],1),0==a.o_status||1==a.o_status||2==a.o_status||3==a.o_status?e("v-uni-view",{staticClass:"goods-bottom  x-f"},[e("v-uni-view",{staticClass:"btn-box"},[0==a.o_status?e("v-uni-button",{staticClass:"cu-btn btn2",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onPay(a.id,a.o_total_price)}}},[t._v("立即付款")]):t._e(),0==a.o_status?e("v-uni-button",{staticClass:"cu-btn btn1",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onCancel(a.id)}}},[t._v("取消订单")]):t._e(),2==a.o_status?e("v-uni-button",{staticClass:"cu-btn btn2",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onConfirm(a.id)}}},[t._v("确认收货")]):t._e()],1)],1):t._e()],1)],1)})),t.orderList.length||t.isLoading?t._e():e("shopro-empty",{attrs:{emptyData:t.emptyData}})],2)],1),e("v-uni-view",{staticClass:"foot_box"})],1)},r=[]}}]);